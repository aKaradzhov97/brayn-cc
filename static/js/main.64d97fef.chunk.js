(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/site-logo.6f276766.png"},,,,function(e,t,n){e.exports=n(49)},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),o=n.n(r),i=n(2),l=n(4),s=n(3),u=n(5),m=n(50),d=(n(26),n(17)),p=n.n(d),h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("header",{className:"site-header"},c.a.createElement("input",{type:"checkbox",name:"main-nav-toggle",id:"main-nav-toggle"}),c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"site-branding"},c.a.createElement("p",{className:"site-title"},c.a.createElement(m.a,{to:"/"},c.a.createElement("img",{src:p.a,alt:"logo",className:"site-logo"}))),c.a.createElement("p",{className:"site-description"},"Code challenge")),c.a.createElement("label",{htmlFor:"main-nav-toggle",id:"toggle"},c.a.createElement("i",{className:"fas fa-bars"}),c.a.createElement("i",{className:"fas fa-times",id:"times-icon"})),c.a.createElement("nav",{className:"navigation main"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(m.a,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(m.a,{to:"/invoices"},"Invoices"))))))},n}return Object(u.a)(t,e),t}(a.Component),f=n(53),E=n(52),g=(n(29),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("main",null,c.a.createElement("section",{className:"home-container"},c.a.createElement("h2",null,"Innovation at its finest")),c.a.createElement("section",{className:"home-credentials"},c.a.createElement("article",{className:"text-wrapper"},c.a.createElement("p",{className:"home-credentials-text"},"this.application is designed & developed as a Code Challenge to demonstrate knowledge of trending technologies in the field of programming. The Code Challenge is provided by Brayn.io. Fun & Top challenge - provided by top company!"),c.a.createElement("a",{href:"https://brayn.io"},"Visit Brayn.io"))))},n}return Object(u.a)(t,e),t}(a.Component)),v=(n(30),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("tr",{className:"datarow",key:n.props.id},c.a.createElement("td",{"data-name":"Invoice Number"},n.props.receipt_id||"-"),c.a.createElement("td",{"data-name":"Invoice Date"},n.props.receipt_date||"-"),c.a.createElement("td",{"data-name":"Net Amount"},n.props.netto||"-"),c.a.createElement("td",{"data-name":"Gross Amount"},n.props.brutto||"-"),c.a.createElement("td",{"data-name":"Open Amount"},n.props.balance||"-"),c.a.createElement("td",{"data-name":"Debitor"},n.props.Debitor.name||"-"),c.a.createElement("td",{"data-name":"Actions"},c.a.createElement(m.a,{to:"/invoices/details/".concat(n.props.id)},"Details")))},n}return Object(u.a)(t,e),t}(a.Component)),b=n(18),w=n.n(b),O=(n(34),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).handlePageClick=function(e){var t=e.selected+1;n.props.getPage(t)},n.render=function(){return c.a.createElement(w.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:n.props.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:n.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})},n}return Object(u.a)(t,e),t}(a.Component)),j=n(19),y={username:"frontendDemo@secu-ring.de",password:"n*E%<_eAYd$Gvixe{eV4je>H",client_id:"demo_fe",client_secret:"WSBTUj2pfqrR4KMYSyMcnDQrMfQTrHMV/9Mf/TLjcRQ=",grant_type:"password",auth_url:"https://api-billing-webservice.secu-ring.de/oauth"},A=new(n.n(j).a)({clientId:y.client_id,clientSecret:y.client_secret,accessTokenUri:y.auth_url});var N={authenticate:function(){return A.owner.getToken(y.username,y.password)},saveSession:function(e){localStorage.setItem("AccessToken",e.accessToken),localStorage.setItem("Expires",e.expires)},isNotAuthenticated:function(){return!localStorage.getItem("AccessToken")||localStorage.getItem("Expires")&&new Date(Date.now())>=new Date(localStorage.getItem("Expires"))}},C=n(7),I=n.n(C);function k(e){var t=I()("#errorBox");t.empty(),t.append('<i class="fas fa-times-circle"></i> '),t.append(e),t.show(),I()("#main-nav-toggle").prop("checked",!1)}I()(function(){var e=0;I()(document).on({ajaxStart:function(){e||I()("#loadingBox").fadeIn(),e++,I()("#errorBox").fadeOut(),I()("#main-nav-toggle").prop("checked",!1)},ajaxStop:function(){return setTimeout(function(){--e||I()("#loadingBox").fadeOut()},500)}}),I()("#infoBox").click(function(e){return I()(e.target).fadeOut()}),I()("#errorBox").click(function(e){return I()(e.target).fadeOut()})});var x={showInfo:function(e){var t=I()("#infoBox");t.empty(),t.append('<i class="fas fa-check-circle"></i> '),t.append(e),t.show(),setTimeout(function(){return t.fadeOut()},3e3),I()("#main-nav-toggle").prop("checked",!1)},showError:k,handleError:function(e){switch(e){case 404:return k("Entity not found!");case 401:return k("Authentication error!");default:return console.log(e),k("An error occurred!")}}},T="https://api-billing-webservice.secu-ring.de/";var D={get:function(e){return I.a.ajax(function(e,t){return{method:e,url:T+t,headers:{Authorization:"Bearer "+localStorage.getItem("AccessToken")}}}("GET",e))}};var _={getAllAtPage:function(e){return D.get("v1/invoices/debit/list?page=".concat(e))},getById:function(e){return D.get("v1/invoices/debit/list/".concat(e))}},S=(n(43),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).getPage=function(e){n.getAll(e),window.scrollTo(0,0)},n.getAll=function(e){N.isNotAuthenticated()?N.authenticate().then(function(t){N.saveSession(t),_.getAllAtPage(e).then(function(e){n.setState({debits:e._embedded.list_debits,pageCount:e.page_count}),x.showInfo("Loaded all invoices!")}).catch(function(e){x.showError("Error loading invoices!")})}).catch(function(e){x.handleError(e.status)}):_.getAllAtPage(e).then(function(e){n.setState({debits:e._embedded.list_debits,pageCount:e.page_count}),x.showInfo("Loaded all invoices!")}).catch(function(e){x.showError("Error loading invoices!")})},n.componentDidMount=function(){n.getAll(1)},n.render=function(){return c.a.createElement("main",null,c.a.createElement("section",{className:"table-container"},c.a.createElement("h2",null,"All Invoices"),c.a.createElement("table",{className:"gridtable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Invoice Number"),c.a.createElement("th",null,"Invoice Date"),c.a.createElement("th",null,"Net Amount"),c.a.createElement("th",null,"Gross Amount"),c.a.createElement("th",null,"Open Amount"),c.a.createElement("th",null,"Debitor"),c.a.createElement("th",null,"Actions"))),c.a.createElement("tbody",null,n.state.debits.map(function(e){return c.a.createElement(v,Object.assign({key:e.id},e))})))),c.a.createElement(O,{getPage:n.getPage,pageCount:n.state.pageCount}))},n.state={debits:[],pageCount:0},n}return Object(u.a)(t,e),t}(a.Component)),B=(n(44),n(45),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("article",{className:"invoice-item-container"},c.a.createElement("section",null,"Item: ",n.props.index+1),c.a.createElement("section",null,"Description: ",n.props.description),c.a.createElement("section",null,"Amount: ",n.props.amount),c.a.createElement("section",null,"Price: ",n.props.price),c.a.createElement("section",null,"VAT Rate (%): ",n.props.vat_rate))},n}return Object(u.a)(t,e),t}(a.Component)),P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).componentDidMount=function(){N.isNotAuthenticated()?N.authenticate().then(function(e){N.saveSession(e),_.getById(n.props.match.params.id).then(function(e){n.setState({invoice:e}),x.showInfo("Loaded invoice data!")}).catch(function(e){x.handleError(e.status),n.props.history.push("/")})}).catch(function(e){x.handleError(e.status)}):_.getById(n.props.match.params.id).then(function(e){n.setState({invoice:e}),x.showInfo("Loaded invoice data!")}).catch(function(e){x.handleError(e.status),n.props.history.push("/")})},n.render=function(){return c.a.createElement("main",null,c.a.createElement("section",{className:"details-container"},c.a.createElement("h2",null,"Details for invoice"),c.a.createElement("article",null,c.a.createElement("section",null,"Invoice number"),c.a.createElement("section",null,n.state.invoice.receipt_id||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Invoice date"),c.a.createElement("section",null,n.state.invoice.receipt_date||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Debitor"),c.a.createElement("section",null,n.state.invoice.Debitor?n.state.invoice.Debitor.name:"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Service period"),c.a.createElement("section",null,n.state.invoice.service_period||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Due date"),c.a.createElement("section",null,n.state.invoice.due_date||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Items"),c.a.createElement("section",null,n.state.invoice.items?n.state.invoice.items.map(function(e,t){return c.a.createElement(B,Object.assign({key:e.id,index:t},e))}):"No items.")),c.a.createElement("article",null,c.a.createElement("section",null,"Total NETTO"),c.a.createElement("section",null,n.state.invoice.netto||"0")),c.a.createElement("article",null,c.a.createElement("section",null,"Total BRUTTO"),c.a.createElement("section",null,n.state.invoice.brutto||"0")),c.a.createElement("article",null,c.a.createElement("section",null,"Open amount (balance)"),c.a.createElement("section",null,n.state.invoice.balance||"0")),c.a.createElement("article",null,c.a.createElement("section",null,"Total VAT"),c.a.createElement("section",null,"Not sure how to calculate this."))))},n.state={invoice:{}},n}return Object(u.a)(t,e),t}(a.Component),L=function(){return c.a.createElement(f.a,null,c.a.createElement(E.a,{path:"/invoices/details/:id",component:P}),c.a.createElement(E.a,{path:"/invoices",component:S}),c.a.createElement(E.a,{path:"/",component:g}))},M=(n(47),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("footer",{className:"site-footer"},c.a.createElement("section",null,c.a.createElement("span",null,"Copyright \xa9 2019. All rights reserved | Design & developed by ",c.a.createElement("a",{href:"https://www.github.com/akaradzhov97",className:"dev-credits"},"aKaradzhov97"))))},n}return Object(u.a)(t,e),t}(a.Component)),R=(n(48),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h,null),c.a.createElement(L,null),c.a.createElement(M,null))},n}return Object(u.a)(t,e),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(51);o.a.render(c.a.createElement(V.a,null,c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[21,1,2]]]);
//# sourceMappingURL=main.64d97fef.chunk.js.map