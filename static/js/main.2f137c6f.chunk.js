(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/site-logo.6f276766.png"},,,function(e,t,n){e.exports=n(44)},,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(16),o=n.n(r),i=n(4),l=n(6),s=n(5),u=n(7),m=n(45),d=(n(25),n(17)),p=n.n(d),h=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("header",{className:"site-header"},c.a.createElement("input",{type:"checkbox",name:"main-nav-toggle",id:"main-nav-toggle"}),c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"site-branding"},c.a.createElement("p",{className:"site-title"},c.a.createElement(m.a,{to:"/"},c.a.createElement("img",{src:p.a,alt:"logo",className:"site-logo"}))),c.a.createElement("p",{className:"site-description"},"Code challenge")),c.a.createElement("label",{htmlFor:"main-nav-toggle",id:"toggle"},c.a.createElement("i",{className:"fas fa-bars"}),c.a.createElement("i",{className:"fas fa-times",id:"times-icon"})),c.a.createElement("nav",{className:"navigation main"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(m.a,{to:"/"},"Home")),c.a.createElement("li",null,c.a.createElement(m.a,{to:"/invoices"},"Invoices"))))))},n}return Object(u.a)(t,e),t}(a.Component),E=n(48),f=n(47),v=(n(28),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("main",null,c.a.createElement("section",{className:"home-container"},c.a.createElement("h2",null,"Innovation at its finest")),c.a.createElement("section",{className:"home-credentials"},c.a.createElement("article",{className:"text-wrapper"},c.a.createElement("p",{className:"home-credentials-text"},"this.application is designed & developed as a Code Challenge to demonstrate knowledge of trending technologies in the field of programming. The Code Challenge is provided by Brayn.io. Fun & Top challenge - provided by top company!"),c.a.createElement("a",{href:"https://brayn.io"},"Visit Brayn.io"))))},n}return Object(u.a)(t,e),t}(a.Component)),g=(n(29),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("tr",{className:"datarow",key:n.props.id},c.a.createElement("td",{"data-name":"Invoice Number"},n.props.receipt_id||"-"),c.a.createElement("td",{"data-name":"Invoice Date"},n.props.receipt_date||"-"),c.a.createElement("td",{"data-name":"Net Amount"},n.props.netto||"-"),c.a.createElement("td",{"data-name":"Gross Amount"},n.props.brutto||"-"),c.a.createElement("td",{"data-name":"Open Amount"},n.props.balance||"-"),c.a.createElement("td",{"data-name":"Debitor"},n.props.Debitor.name||"-"),c.a.createElement("td",{"data-name":"Actions"},c.a.createElement(m.a,{to:"/invoices/details/".concat(n.props.id)},"Details")))},n}return Object(u.a)(t,e),t}(a.Component)),b=n(18),w={username:"frontendDemo@secu-ring.de",password:"n*E%<_eAYd$Gvixe{eV4je>H",client_id:"demo_fe",client_secret:"WSBTUj2pfqrR4KMYSyMcnDQrMfQTrHMV/9Mf/TLjcRQ=",grant_type:"password",auth_url:"https://api-billing-webservice.secu-ring.de/oauth"},O=new(n.n(b).a)({clientId:w.client_id,clientSecret:w.client_secret,accessTokenUri:w.auth_url});var j={authenticate:function(){return O.owner.getToken(w.username,w.password)},saveSession:function(e){localStorage.setItem("AccessToken",e.accessToken),localStorage.setItem("Expires",e.expires)},isNotAuthenticated:function(){return!localStorage.getItem("AccessToken")||localStorage.getItem("Expires")&&new Date(Date.now())>=new Date(localStorage.getItem("Expires"))}},y=n(3),A=n.n(y);function N(e){var t=A()("#errorBox");t.empty(),t.append('<i class="fas fa-times-circle"></i> '),t.append(e),t.show(),A()("#main-nav-toggle").prop("checked",!1)}A()(function(){var e=0;A()(document).on({ajaxStart:function(){e||A()("#loadingBox").fadeIn(),e++,A()("#errorBox").fadeOut(),A()("#main-nav-toggle").prop("checked",!1)},ajaxStop:function(){return setTimeout(function(){--e||A()("#loadingBox").fadeOut()},500)}}),A()("#infoBox").click(function(e){return A()(e.target).fadeOut()}),A()("#errorBox").click(function(e){return A()(e.target).fadeOut()})});var I={showInfo:function(e){var t=A()("#infoBox");t.empty(),t.append('<i class="fas fa-check-circle"></i> '),t.append(e),t.show(),setTimeout(function(){return t.fadeOut()},3e3),A()("#main-nav-toggle").prop("checked",!1)},showError:N,handleError:function(e){switch(e){case 404:return N("Entity not found!");case 401:return N("Authentication error!");default:return console.log(e),N("An error occurred!")}}},T="https://api-billing-webservice.secu-ring.de/";var k={get:function(e){return A.a.ajax(function(e,t){return{method:e,url:T+t,headers:{Authorization:"Bearer "+localStorage.getItem("AccessToken")}}}("GET",e))}};var x={getAll:function(){return k.get("v1/invoices/debit/list")},getById:function(e){return k.get("v1/invoices/debit/list/".concat(e))}},D=(n(38),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).componentDidMount=function(){j.isNotAuthenticated()?j.authenticate().then(function(e){j.saveSession(e),x.getAll().then(function(e){n.setState({debits:e._embedded.list_debits}),I.showInfo("Loaded all invoices!")}).catch(function(e){I.showError("Error loading invoices!")})}).catch(function(e){I.handleError(e.status)}):x.getAll().then(function(e){n.setState({debits:e._embedded.list_debits}),I.showInfo("Loaded all invoices!")}).catch(function(e){I.showError("Error loading invoices!")})},n.render=function(){return c.a.createElement("main",null,c.a.createElement("section",{className:"table-container"},c.a.createElement("h2",null,"All Invoices"),c.a.createElement("table",{className:"gridtable"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Invoice Number"),c.a.createElement("th",null,"Invoice Date"),c.a.createElement("th",null,"Net Amount"),c.a.createElement("th",null,"Gross Amount"),c.a.createElement("th",null,"Open Amount"),c.a.createElement("th",null,"Debitor"),c.a.createElement("th",null,"Actions"))),c.a.createElement("tbody",null,n.state.debits.map(function(e){return c.a.createElement(g,Object.assign({key:e.id},e))})))))},n.state={debits:[]},n}return Object(u.a)(t,e),t}(a.Component)),_=(n(39),n(40),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("article",{className:"invoice-item-container"},c.a.createElement("section",null,"Item: ",n.props.index+1),c.a.createElement("section",null,"Description: ",n.props.description),c.a.createElement("section",null,"Amount: ",n.props.amount),c.a.createElement("section",null,"Price: ",n.props.price),c.a.createElement("section",null,"VAT Rate (%): ",n.props.vat_rate))},n}return Object(u.a)(t,e),t}(a.Component)),S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).componentDidMount=function(){j.isNotAuthenticated()?j.authenticate().then(function(e){j.saveSession(e),x.getById(n.props.match.params.id).then(function(e){n.setState({invoice:e}),I.showInfo("Loaded invoice data!")}).catch(function(e){I.handleError(e.status),n.props.history.push("/")})}).catch(function(e){I.handleError(e.status)}):x.getById(n.props.match.params.id).then(function(e){n.setState({invoice:e}),I.showInfo("Loaded invoice data!")}).catch(function(e){I.handleError(e.status),n.props.history.push("/")})},n.render=function(){return c.a.createElement("main",null,c.a.createElement("section",{className:"details-container"},c.a.createElement("h2",null,"Details for invoice"),c.a.createElement("article",null,c.a.createElement("section",null,"Invoice number"),c.a.createElement("section",null,n.state.invoice.receipt_id||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Invoice date"),c.a.createElement("section",null,n.state.invoice.receipt_date||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Debitor"),c.a.createElement("section",null,n.state.invoice.Debitor?n.state.invoice.Debitor.name:"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Service period"),c.a.createElement("section",null,n.state.invoice.service_period||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Due date"),c.a.createElement("section",null,n.state.invoice.due_date||"-")),c.a.createElement("article",null,c.a.createElement("section",null,"Items"),c.a.createElement("section",null,n.state.invoice.items?n.state.invoice.items.map(function(e,t){return c.a.createElement(_,Object.assign({key:e.id,index:t},e))}):"No items.")),c.a.createElement("article",null,c.a.createElement("section",null,"Total NETTO"),c.a.createElement("section",null,n.state.invoice.netto||"0")),c.a.createElement("article",null,c.a.createElement("section",null,"Total BRUTTO"),c.a.createElement("section",null,n.state.invoice.brutto||"0")),c.a.createElement("article",null,c.a.createElement("section",null,"Open amount (balance)"),c.a.createElement("section",null,n.state.invoice.balance||"0")),c.a.createElement("article",null,c.a.createElement("section",null,"Total VAT"),c.a.createElement("section",null,"Not sure how to calculate this."))))},n.state={invoice:{}},n}return Object(u.a)(t,e),t}(a.Component),B=function(){return c.a.createElement(E.a,null,c.a.createElement(f.a,{path:"/invoices/details/:id",component:S}),c.a.createElement(f.a,{path:"/invoices",component:D}),c.a.createElement(f.a,{path:"/",component:v}))},C=(n(42),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("footer",{className:"site-footer"},c.a.createElement("section",null,c.a.createElement("span",null,"Copyright \xa9 2019. All rights reserved | Design & developed by ",c.a.createElement("a",{href:"https://www.github.com/akaradzhov97",className:"dev-credits"},"aKaradzhov97"))))},n}return Object(u.a)(t,e),t}(a.Component)),M=(n(43),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h,null),c.a.createElement(B,null),c.a.createElement(C,null))},n}return Object(u.a)(t,e),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(46);o.a.render(c.a.createElement(L.a,null,c.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[20,1,2]]]);
//# sourceMappingURL=main.2f137c6f.chunk.js.map